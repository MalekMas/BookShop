<%- include('../partials/head', { title: PageTitle }) %>

  <style>
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animated-card {
      animation: fadeInUp 0.6s ease-in-out both;
    }
  </style>

  <div class="container py-5">
    <h1 class="text-center mb-5" style="color: #1E1E2F;">
      <%= PageTitle %>
    </h1>
    <div class="row gx-4 gy-4">
      <% if (books && books.length> 0) { %>
        <% books.forEach((book, index)=> { %>
          <div class="col-lg-3 col-md-4 col-sm-6 d-flex mb-5">
            <div class="card bg-dark text-light shadow-lg w-100 rounded-2 overflow-hidden p-2 animated-card"
              style="animation-delay: <%= index * 300 %>ms;">
              <img src="<%= book.imageUrl || 'https://via.placeholder.com/300x400' %>"
                class="card-img-top rounded-top-1" alt="Book Cover" style="height: 300px; object-fit: cover;">
              <div class="card-body d-flex flex-column px-3 py-4">
                <h2 class="h6 fw-semibold mb-1 text-white">
                  <%= book.title %>
                </h2>
                <p class="mb-1 text-light-emphasis fst-italic">Genre: <%= book.genre %>
                </p>
                <p class="small text-muted mb-3" style="min-height: 60px;">
                  <%= book.description %>
                </p>
                <a href="/books/<%= book._id %>" class="btn btn-outline-light mt-auto rounded-pill">View Details</a>
              </div>
            </div>
          </div>
          <% }) %>

            <% } else { %>
              <p class="text-center text-light">No books found.</p>
              <% } %>
    </div>
  </div>

  <%- include('../partials/footer') %>